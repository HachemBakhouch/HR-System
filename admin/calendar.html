<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendrier | Mazzaro Milano RH</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../assets/img/favicon.ico" type="image/x-icon">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/components.css">

    <style>
        /* Calendar specific styles */
        .calendar-container {
            background-color: #fff;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            margin-bottom: var(--spacing-lg);
        }

        .calendar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            background-color: var(--primary-color);
            color: white;
        }

        .calendar-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
        }

        .calendar-navigation {
            display: flex;
            align-items: center;
        }

        .calendar-nav-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            color: white;
            margin: 0 var(--spacing-xs);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .calendar-nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .calendar-view-switcher {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 3px;
            margin-left: var(--spacing-md);
        }

        .calendar-view-btn {
            padding: 5px 12px;
            border: none;
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .calendar-view-btn.active {
            background: white;
            color: var(--primary-color);
        }

        .calendar-toolbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            background-color: #f9f9f9;
            border-bottom: 1px solid var(--light-gray);
        }

        .calendar-filters {
            display: flex;
            gap: var(--spacing-md);
        }

        .add-event-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius-md);
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .add-event-btn:hover {
            background-color: rgba(59, 89, 152, 0.9);
        }

        .add-event-btn i {
            margin-right: var(--spacing-xs);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: var(--light-gray);
        }

        .calendar-day-header {
            background-color: #f9f9f9;
            padding: var(--spacing-xs) var(--spacing-sm);
            text-align: center;
            font-weight: 500;
            color: var(--medium-gray);
        }

        .calendar-day {
            background-color: white;
            min-height: 100px;
            padding: var(--spacing-xs);
            position: relative;
        }

        .calendar-day.other-month {
            background-color: #f9f9f9;
        }

        .calendar-day.today {
            background-color: rgba(59, 89, 152, 0.05);
        }

        .calendar-day.weekend {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .date-number {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: var(--medium-gray);
        }

        .today .date-number {
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
        }

        .calendar-event {
            margin-top: 25px;
            margin-bottom: 2px;
            padding: 3px 5px;
            border-radius: 3px;
            font-size: 0.75rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
        }

        .calendar-event.meeting {
            background-color: rgba(59, 89, 152, 0.2);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
        }

        .calendar-event.task {
            background-color: rgba(237, 69, 15, 0.2);
            color: var(--secondary-color);
            border-left: 3px solid var(--secondary-color);
        }

        .calendar-event.holiday {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success-color);
            border-left: 3px solid var(--success-color);
        }

        .calendar-event.training {
            background-color: rgba(23, 162, 184, 0.2);
            color: var(--info-color);
            border-left: 3px solid var(--info-color);
        }

        .calendar-event.leave {
            background-color: rgba(255, 193, 7, 0.2);
            color: var(--warning-color);
            border-left: 3px solid var(--warning-color);
        }

        .more-events {
            margin-top: 2px;
            padding: 2px 5px;
            font-size: 0.7rem;
            color: var(--medium-gray);
            text-align: center;
            background-color: var(--light-gray);
            border-radius: 3px;
            cursor: pointer;
        }

        .week-view,
        .day-view {
            display: flex;
        }

        .week-time-column {
            width: 60px;
            border-right: 1px solid var(--light-gray);
        }

        .week-time-header {
            height: 60px;
            border-bottom: 1px solid var(--light-gray);
        }

        .week-time-cell {
            height: 60px;
            border-bottom: 1px solid var(--light-gray);
            text-align: center;
            font-size: 0.75rem;
            color: var(--medium-gray);
            padding-top: 5px;
        }

        .week-day-column {
            flex: 1;
            min-width: 0;
        }

        .week-day-header {
            height: 60px;
            border-bottom: 1px solid var(--light-gray);
            text-align: center;
            padding: var(--spacing-xs);
        }

        .week-day-name {
            font-weight: 500;
            color: var(--dark-gray);
        }

        .week-day-date {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--medium-gray);
        }

        .week-day-date.today {
            color: var(--primary-color);
        }

        .week-hour-cell {
            height: 60px;
            border-bottom: 1px solid var(--light-gray);
            border-right: 1px solid var(--light-gray);
            position: relative;
        }

        .calendar-event.timed {
            position: absolute;
            left: 2px;
            right: 2px;
            z-index: 10;
            background-color: rgba(59, 89, 152, 0.8);
            color: white;
            text-align: center;
            overflow: hidden;
            border-left: none;
            border-radius: var(--border-radius-sm);
        }

        .calendar-event.timed.task {
            background-color: rgba(237, 69, 15, 0.8);
        }

        .calendar-event.timed.training {
            background-color: rgba(23, 162, 184, 0.8);
        }

        .calendar-event.timed.meeting {
            background-color: rgba(59, 89, 152, 0.8);
        }

        .calendar-event.timed.leave {
            background-color: rgba(255, 193, 7, 0.8);
        }

        .calendar-event.timed.holiday {
            background-color: rgba(40, 167, 69, 0.8);
        }

        .all-day-container {
            border-bottom: 1px solid var(--light-gray);
            padding: 5px;
            min-height: 30px;
        }

        .all-day-event {
            background-color: rgba(59, 89, 152, 0.8);
            color: white;
            margin: 2px 0;
            padding: 2px 5px;
            border-radius: var(--border-radius-sm);
            font-size: 0.7rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .all-day-event.task {
            background-color: rgba(237, 69, 15, 0.8);
        }

        .all-day-event.training {
            background-color: rgba(23, 162, 184, 0.8);
        }

        .all-day-event.holiday {
            background-color: rgba(40, 167, 69, 0.8);
        }

        .all-day-event.leave {
            background-color: rgba(255, 193, 7, 0.8);
        }

        .list-view {
            background-color: white;
        }

        .list-header {
            display: grid;
            grid-template-columns: 100px 80px 1fr 120px 150px;
            padding: var(--spacing-sm);
            border-bottom: 1px solid var(--light-gray);
            font-weight: 500;
            color: var(--medium-gray);
        }

        .list-body {
            max-height: 600px;
            overflow-y: auto;
        }

        .day-separator {
            padding: var(--spacing-sm);
            background-color: #f9f9f9;
            font-weight: 500;
            color: var(--primary-color);
            border-bottom: 1px solid var(--light-gray);
        }

        .list-item {
            display: grid;
            grid-template-columns: 100px 80px 1fr 120px 150px;
            padding: var(--spacing-sm);
            border-bottom: 1px solid var(--light-gray);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .list-item:hover {
            background-color: rgba(59, 89, 152, 0.05);
        }

        .event-type-indicator {
            display: inline-block;
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
        }

        .event-type-indicator.meeting {
            background-color: rgba(59, 89, 152, 0.2);
            color: var(--primary-color);
        }

        .event-type-indicator.task {
            background-color: rgba(237, 69, 15, 0.2);
            color: var(--secondary-color);
        }

        .event-type-indicator.holiday {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success-color);
        }

        .event-type-indicator.training {
            background-color: rgba(23, 162, 184, 0.2);
            color: var(--info-color);
        }

        .event-type-indicator.leave {
            background-color: rgba(255, 193, 7, 0.2);
            color: var(--warning-color);
        }

        .no-events {
            padding: var(--spacing-lg);
            text-align: center;
            color: var(--medium-gray);
        }

        /* Upcoming events section */
        .upcoming-events {
            margin-bottom: var(--spacing-lg);
        }

        .upcoming-event {
            display: flex;
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .upcoming-event:last-child {
            border-bottom: none;
        }

        .event-date {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 60px;
            flex-shrink: 0;
            margin-right: var(--spacing-md);
            text-align: center;
        }

        .event-day {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .event-month {
            font-size: 0.8rem;
            color: var(--medium-gray);
            text-transform: uppercase;
        }

        .event-content {
            flex-grow: 1;
        }

        .event-title {
            font-weight: 500;
            margin-bottom: var(--spacing-xs);
        }

        .event-description {
            font-size: 0.9rem;
            color: var(--medium-gray);
            margin-bottom: var(--spacing-xs);
        }

        .event-meta {
            display: flex;
            font-size: 0.8rem;
            color: var(--medium-gray);
        }

        .event-time {
            margin-right: var(--spacing-md);
        }

        .event-location {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .event-time i,
        .event-location i {
            margin-right: 3px;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/img/logo.png" alt="Mazzaro Milano" class="sidebar-logo">
                <button class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <ul class="sidebar-menu">
                <li class="sidebar-item">
                    <a href="index.html" class="sidebar-link">
                        <i class="fas fa-tachometer-alt sidebar-icon"></i>
                        <span class="sidebar-text">Tableau de bord</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="employees.html" class="sidebar-link">
                        <i class="fas fa-users sidebar-icon"></i>
                        <span class="sidebar-text">Employés</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="tickets.html" class="sidebar-link">
                        <i class="fas fa-tasks sidebar-icon"></i>
                        <span class="sidebar-text">Tickets & Tâches</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="attendance.html" class="sidebar-link">
                        <i class="fas fa-clock sidebar-icon"></i>
                        <span class="sidebar-text">Pointage & Présence</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="leave.html" class="sidebar-link">
                        <i class="fas fa-calendar-alt sidebar-icon"></i>
                        <span class="sidebar-text">Congés</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="calendar.html" class="sidebar-link active">
                        <i class="fas fa-calendar-day sidebar-icon"></i>
                        <span class="sidebar-text">Calendrier</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="statistics.html" class="sidebar-link">
                        <i class="fas fa-chart-bar sidebar-icon"></i>
                        <span class="sidebar-text">Statistiques</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="evaluations.html" class="sidebar-link">
                        <i class="fas fa-star sidebar-icon"></i>
                        <span class="sidebar-text">Évaluations</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="settings.html" class="sidebar-link">
                        <i class="fas fa-cog sidebar-icon"></i>
                        <span class="sidebar-text">Paramètres</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <span>Mazzaro Milano RH v1.0</span>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="header">
                <h1 class="page-title">Calendrier</h1>

                <div class="header-actions">
                    <button class="header-action notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>

                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="../assets/img/avatars/admin.jpg" alt="Admin Profile">
                        </div>
                        <div class="user-info">
                            <span class="user-name">Admin Mazzaro</span>
                            <span class="user-role">Super Administrateur</span>
                        </div>
                        <i class="fas fa-chevron-down dropdown-toggle"></i>

                        <!-- User Dropdown Menu -->
                        <div class="dropdown-menu user-dropdown-menu">
                            <a href="profile.html" class="dropdown-item">
                                <i class="fas fa-user"></i> Mon profil
                            </a>
                            <a href="settings.html" class="dropdown-item">
                                <i class="fas fa-cog"></i> Paramètres
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" onclick="auth.logout()">
                                <i class="fas fa-sign-out-alt"></i> Se déconnecter
                            </a>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Notification Panel -->
            <div class="notification-panel">
                <div class="notification-header">
                    <h3 class="notification-title">Notifications</h3>
                    <span class="notification-count">5</span>
                </div>
                <div class="notification-body">
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Nouvel employé ajouté: <strong>Sarah Trabelsi</strong></p>
                            <span class="notification-time">Il y a 10 minutes</span>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Retard de <strong>Ahmed Karim</strong> - Boutique Sud</p>
                            <span class="notification-time">Il y a 1 heure</span>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Nouvelle demande de congé de <strong>Fatma Ben Ali</strong>
                            </p>
                            <span class="notification-time">Il y a 3 heures</span>
                        </div>
                    </div>
                </div>
                <div class="notification-footer">
                    <a href="notifications.html" class="view-all">Voir toutes les notifications</a>
                </div>
            </div>

            <!-- Calendar Content -->
            <div class="calendar-content">
                <div class="row mb-4">
                    <div class="col-md-9">
                        <!-- Calendar Container -->
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <h2 class="calendar-title">Mai 2025</h2>
                                <div class="calendar-navigation">
                                    <button class="calendar-nav-btn" id="prevBtn">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="calendar-nav-btn" id="todayBtn">
                                        Aujourd'hui
                                    </button>
                                    <button class="calendar-nav-btn" id="nextBtn">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>

                                    <div class="calendar-view-switcher">
                                        <button class="calendar-view-btn active" data-view="month">Mois</button>
                                        <button class="calendar-view-btn" data-view="week">Semaine</button>
                                        <button class="calendar-view-btn" data-view="day">Jour</button>
                                        <button class="calendar-view-btn" data-view="list">Liste</button>
                                    </div>
                                </div>
                            </div>

                            <div class="calendar-toolbar">
                                <div class="calendar-filters">
                                    <div>
                                        <select id="eventTypeFilter" class="form-control">
                                            <option value="all">Tous les événements</option>
                                            <option value="meeting">Réunions</option>
                                            <option value="task">Tâches</option>
                                            <option value="holiday">Jours fériés</option>
                                            <option value="training">Formations</option>
                                            <option value="leave">Congés</option>
                                        </select>
                                    </div>
                                    <div>
                                        <select id="storeFilter" class="form-control">
                                            <option value="all">Toutes les boutiques</option>
                                            <option value="north">Boutique Nord</option>
                                            <option value="south">Boutique Sud</option>
                                            <option value="east">Boutique Est</option>
                                            <option value="west">Boutique Ouest</option>
                                            <option value="center">Boutique Centre</option>
                                        </select>
                                    </div>
                                </div>

                                <button class="add-event-btn" id="addEventBtn">
                                    <i class="fas fa-plus"></i> Ajouter un événement
                                </button>
                            </div>

                            <!-- Month View (Default) -->
                            <div class="calendar-view month-view">
                                <div class="calendar-grid">
                                    <!-- Day headers -->
                                    <div class="calendar-day-header">Lun</div>
                                    <div class="calendar-day-header">Mar</div>
                                    <div class="calendar-day-header">Mer</div>
                                    <div class="calendar-day-header">Jeu</div>
                                    <div class="calendar-day-header">Ven</div>
                                    <div class="calendar-day-header">Sam</div>
                                    <div class="calendar-day-header">Dim</div>

                                    <!-- Previous month days -->
                                    <div class="calendar-day other-month">
                                        <div class="date-number">29</div>
                                    </div>
                                    <div class="calendar-day other-month">
                                        <div class="date-number">30</div>
                                    </div>

                                    <!-- Current month days -->
                                    <div class="calendar-day">
                                        <div class="date-number">1</div>
                                        <div class="calendar-event holiday" data-id="event-4" data-type="holiday">Jour
                                            férié</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">2</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">3</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">4</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">5</div>
                                    </div>

                                    <!-- Week 2 -->
                                    <div class="calendar-day">
                                        <div class="date-number">6</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">7</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">8</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">9</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">10</div>
                                        <div class="calendar-event task" data-id="event-5" data-type="task">Évaluations
                                            trimestrielles</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">11</div>
                                        <div class="calendar-event task" data-id="event-5" data-type="task">Évaluations
                                            trimestrielles</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">12</div>
                                        <div class="calendar-event task" data-id="event-5" data-type="task">Évaluations
                                            trimestrielles</div>
                                    </div>

                                    <!-- Week 3 -->
                                    <div class="calendar-day">
                                        <div class="date-number">13</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">14</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">15</div>
                                        <div class="calendar-event meeting" data-id="event-1" data-type="meeting">
                                            Réunion du personnel</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">16</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">17</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">18</div>
                                        <div class="calendar-event training" data-id="event-6" data-type="training">
                                            Entretien candidat</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">19</div>
                                    </div>

                                    <!-- Week 4 -->
                                    <div class="calendar-day today">
                                        <div class="date-number">20</div>
                                        <div class="calendar-event training" data-id="event-3" data-type="training">
                                            Formation Shopify</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">21</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">22</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">23</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">24</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">25</div>
                                        <div class="calendar-event task" data-id="event-2" data-type="task">Inventaire
                                            mensuel</div>
                                    </div>
                                    <div class="calendar-day weekend">
                                        <div class="date-number">26</div>
                                    </div>

                                    <!-- Week 5 -->
                                    <div class="calendar-day">
                                        <div class="date-number">27</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">28</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">29</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">30</div>
                                    </div>
                                    <div class="calendar-day">
                                        <div class="date-number">31</div>
                                    </div>
                                    <div class="calendar-day other-month">
                                        <div class="date-number">1</div>
                                    </div>
                                    <div class="calendar-day other-month">
                                        <div class="date-number">2</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Week View (hidden by default) -->
                            <div class="calendar-view week-view" style="display: none;">
                                <div class="week-container">
                                    <div class="week-time-column">
                                        <div class="week-time-header"></div>
                                        <div class="all-day-header"
                                            style="height: 30px; border-bottom: 1px solid var(--light-gray); padding: 5px;">
                                            Journée
                                        </div>
                                        <div class="week-time-cell">08:00</div>
                                        <div class="week-time-cell">09:00</div>
                                        <div class="week-time-cell">10:00</div>
                                        <div class="week-time-cell">11:00</div>
                                        <div class="week-time-cell">12:00</div>
                                        <div class="week-time-cell">13:00</div>
                                        <div class="week-time-cell">14:00</div>
                                        <div class="week-time-cell">15:00</div>
                                        <div class="week-time-cell">16:00</div>
                                        <div class="week-time-cell">17:00</div>
                                        <div class="week-time-cell">18:00</div>
                                    </div>

                                    <!-- Monday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Lun</div>
                                            <div class="week-day-date">19</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Tuesday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Mar</div>
                                            <div class="week-day-date today">20</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell">
                                            <div class="calendar-event timed training" style="top: 15px; height: 90px;"
                                                data-id="event-3">
                                                Formation Shopify
                                            </div>
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Wednesday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Mer</div>
                                            <div class="week-day-date">21</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Thursday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Jeu</div>
                                            <div class="week-day-date">22</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Friday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Ven</div>
                                            <div class="week-day-date">23</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Saturday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Sam</div>
                                            <div class="week-day-date">24</div>
                                        </div>
                                        <div class="all-day-container">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>

                                    <!-- Sunday -->
                                    <div class="week-day-column">
                                        <div class="week-day-header">
                                            <div class="week-day-name">Dim</div>
                                            <div class="week-day-date">25</div>
                                        </div>
                                        <div class="all-day-container">
                                            <div class="all-day-event task" data-id="event-2">Inventaire mensuel</div>
                                        </div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                        <div class="week-hour-cell"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Day View (hidden by default) -->
                            <div class="calendar-view day-view" style="display: none;">
                                <div class="day-header">
                                    <h3>Mardi, 20 Mai 2025</h3>
                                </div>
                                <div class="day-container">
                                    <div class="day-time-column">
                                        <div class="all-day-header"
                                            style="height: 50px; border-bottom: 1px solid var(--light-gray); padding: 15px;">
                                            Journée
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">08:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">09:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">10:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">11:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">12:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">13:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">14:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">15:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">16:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">17:00</div>
                                        </div>
                                        <div class="day-hour-row">
                                            <div class="day-hour-label">18:00</div>
                                        </div>
                                    </div>
                                    <div class="day-events-column">
                                        <div class="all-day-container"
                                            style="height: 50px; border-bottom: 1px solid var(--light-gray); padding: 5px;">
                                            <!-- All day events here -->
                                        </div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content">
                                            <div class="calendar-event timed training" style="top: 15px; height: 90px;"
                                                data-id="event-3">
                                                Formation Shopify (10:15 - 11:45)
                                            </div>
                                        </div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                        <div class="day-hour-content"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- List View (hidden by default) -->
                            <div class="calendar-view list-view" style="display: none;">
                                <div class="list-header">
                                    <div>Date</div>
                                    <div>Heure</div>
                                    <div>Événement</div>
                                    <div>Type</div>
                                    <div>Lieu</div>
                                </div>
                                <div class="list-body">
                                    <div class="day-separator">Mardi, 20 Mai 2025</div>
                                    <div class="list-item" data-id="event-3">
                                        <div>20/05/2025</div>
                                        <div>10:15 - 11:45</div>
                                        <div>Formation Shopify</div>
                                        <div><span class="event-type-indicator training">Formation</span></div>
                                        <div>Salle de formation</div>
                                    </div>

                                    <div class="day-separator">Dimanche, 25 Mai 2025</div>
                                    <div class="list-item" data-id="event-2">
                                        <div>25/05/2025</div>
                                        <div>Toute la journée</div>
                                        <div>Inventaire mensuel</div>
                                        <div><span class="event-type-indicator task">Tâche</span></div>
                                        <div>Toutes les boutiques</div>
                                    </div>

                                    <div class="day-separator">Jeudi, 15 Mai 2025</div>
                                    <div class="list-item" data-id="event-1">
                                        <div>15/05/2025</div>
                                        <div>14:00 - 16:00</div>
                                        <div>Réunion du personnel</div>
                                        <div><span class="event-type-indicator meeting">Réunion</span></div>
                                        <div>Salle de conférence</div>
                                    </div>

                                    <div class="day-separator">Jeudi, 1 Mai 2025</div>
                                    <div class="list-item" data-id="event-4">
                                        <div>01/05/2025</div>
                                        <div>Toute la journée</div>
                                        <div>Jour férié</div>
                                        <div><span class="event-type-indicator holiday">Férié</span></div>
                                        <div>-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <!-- Upcoming Events -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Événements à venir</h3>
                            </div>
                            <div class="card-body">
                                <div class="upcoming-events">
                                    <div class="upcoming-event">
                                        <div class="event-date">
                                            <span class="event-day">20</span>
                                            <span class="event-month">Mai</span>
                                        </div>
                                        <div class="event-content">
                                            <h4 class="event-title">Formation Shopify</h4>
                                            <p class="event-description">Formation sur les nouvelles fonctionnalités
                                                Shopify</p>
                                            <div class="event-meta">
                                                <span class="event-time"><i class="fas fa-clock"></i> 10:15 -
                                                    11:45</span>
                                                <span class="event-location"><i class="fas fa-map-marker-alt"></i> Salle
                                                    de formation</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="upcoming-event">
                                        <div class="event-date">
                                            <span class="event-day">25</span>
                                            <span class="event-month">Mai</span>
                                        </div>
                                        <div class="event-content">
                                            <h4 class="event-title">Inventaire mensuel</h4>
                                            <p class="event-description">Inventaire de fin de mois dans toutes les
                                                boutiques</p>
                                            <div class="event-meta">
                                                <span class="event-time"><i class="fas fa-clock"></i> Toute la
                                                    journée</span>
                                                <span class="event-location"><i class="fas fa-map-marker-alt"></i>
                                                    Toutes les boutiques</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="upcoming-event">
                                        <div class="event-date">
                                            <span class="event-day">2</span>
                                            <span class="event-month">Juin</span>
                                        </div>
                                        <div class="event-content">
                                            <h4 class="event-title">Réunion trimestrielle</h4>
                                            <p class="event-description">Bilan du trimestre avec tous les responsables
                                            </p>
                                            <div class="event-meta">
                                                <span class="event-time"><i class="fas fa-clock"></i> 14:00 -
                                                    17:00</span>
                                                <span class="event-location"><i class="fas fa-map-marker-alt"></i> Siège
                                                    social</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Calendar Settings -->
                        <div class="card mt-4">
                            <div class="card-header">
                                <h3 class="card-title">Paramètres d'affichage</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label class="form-label">Types d'événements à afficher</label>
                                    <div class="form-check">
                                        <input type="checkbox" id="showMeetings" class="form-check-input" checked>
                                        <label for="showMeetings" class="form-check-label">Réunions</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="showTasks" class="form-check-input" checked>
                                        <label for="showTasks" class="form-check-label">Tâches</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="showHolidays" class="form-check-input" checked>
                                        <label for="showHolidays" class="form-check-label">Jours fériés</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="showTrainings" class="form-check-input" checked>
                                        <label for="showTrainings" class="form-check-label">Formations</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="showLeaves" class="form-check-input" checked>
                                        <label for="showLeaves" class="form-check-label">Congés</label>
                                    </div>
                                </div>

                                <div class="form-group mt-3">
                                    <label class="form-label">Calendriers</label>
                                    <div class="form-check">
                                        <input type="checkbox" id="calCompany" class="form-check-input" checked>
                                        <label for="calCompany" class="form-check-label">Calendrier d'entreprise</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="calTraining" class="form-check-input" checked>
                                        <label for="calTraining" class="form-check-label">Formations</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="calHolidays" class="form-check-input" checked>
                                        <label for="calHolidays" class="form-check-label">Jours fériés</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="calLeaves" class="form-check-input" checked>
                                        <label for="calLeaves" class="form-check-label">Congés</label>
                                    </div>
                                </div>

                                <button class="btn btn-primary btn-block mt-3" id="applySettingsBtn">
                                    <i class="fas fa-check"></i> Appliquer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>

    <!-- Add/Edit Event Modal -->
    <div class="modal-overlay" id="eventModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="eventModalTitle">Ajouter un événement</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="eventForm">
                    <div class="form-group">
                        <label for="eventTitle" class="form-label">Titre</label>
                        <input type="text" id="eventTitle" class="form-control" required>
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventDescription" class="form-label">Description</label>
                        <textarea id="eventDescription" class="form-control" rows="3"></textarea>
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventType" class="form-label">Type d'événement</label>
                        <select id="eventType" class="form-control" required>
                            <option value="meeting">Réunion</option>
                            <option value="task">Tâche</option>
                            <option value="holiday">Jour férié</option>
                            <option value="training">Formation</option>
                            <option value="leave">Congé</option>
                        </select>
                    </div>

                    <div class="form-check mt-3">
                        <input type="checkbox" id="eventAllDay" class="form-check-input">
                        <label for="eventAllDay" class="form-check-label">Toute la journée</label>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="eventStartDate" class="form-label">Date de début</label>
                                <input type="date" id="eventStartDate" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="eventEndDate" class="form-label">Date de fin</label>
                                <input type="date" id="eventEndDate" class="form-control" required>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3" id="timePickerContainer">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="eventStartTime" class="form-label">Heure de début</label>
                                <input type="time" id="eventStartTime" class="form-control">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="eventEndTime" class="form-label">Heure de fin</label>
                                <input type="time" id="eventEndTime" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventLocation" class="form-label">Lieu</label>
                        <input type="text" id="eventLocation" class="form-control">
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventStore" class="form-label">Boutique(s) concernée(s)</label>
                        <select id="eventStore" class="form-control" multiple>
                            <option value="all">Toutes les boutiques</option>
                            <option value="north">Boutique Nord</option>
                            <option value="south">Boutique Sud</option>
                            <option value="east">Boutique Est</option>
                            <option value="west">Boutique Ouest</option>
                            <option value="center">Boutique Centre</option>
                        </select>
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventParticipants" class="form-label">Participants</label>
                        <select id="eventParticipants" class="form-control" multiple>
                            <option value="all">Tous les employés</option>
                            <option value="managers">Responsables uniquement</option>
                            <option value="emp1">Ahmed Karim - Vendeur</option>
                            <option value="emp2">Fatma Ben Ali - Vendeuse</option>
                            <option value="emp3">Youssef Miled - Vendeur</option>
                            <option value="emp4">Sarah Trabelsi - Vendeuse</option>
                            <option value="emp5">Mehdi Selmi - Responsable</option>
                        </select>
                    </div>

                    <div class="form-group mt-3">
                        <label for="eventReminder" class="form-label">Rappel</label>
                        <select id="eventReminder" class="form-control">
                            <option value="none">Aucun</option>
                            <option value="15min">15 minutes avant</option>
                            <option value="30min">30 minutes avant</option>
                            <option value="1hour">1 heure avant</option>
                            <option value="1day">1 jour avant</option>
                        </select>
                    </div>

                    <div class="form-check mt-3">
                        <input type="checkbox" id="eventNotify" class="form-check-input" checked>
                        <label for="eventNotify" class="form-check-label">Notifier les participants</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light modal-cancel">Annuler</button>
                <button class="btn btn-primary" id="saveEventBtn">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- View Event Modal -->
    <div class="modal-overlay" id="viewEventModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="viewEventTitle">Détails de l'événement</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="event-details">
                    <div class="event-type-badge" id="viewEventType">
                        <span class="event-type-indicator meeting">Réunion</span>
                    </div>

                    <h4 class="mt-3" id="viewEventName">Réunion du personnel</h4>

                    <div class="event-time-location mt-3">
                        <div class="event-time mb-2">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="viewEventDate">15/05/2025</span>
                        </div>
                        <div class="event-time mb-2">
                            <i class="fas fa-clock"></i>
                            <span id="viewEventTime">14:00 - 16:00</span>
                        </div>
                        <div class="event-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="viewEventLocation">Salle de conférence</span>
                        </div>
                    </div>

                    <div class="event-description mt-3">
                        <h5>Description</h5>
                        <p id="viewEventDescription">Réunion mensuelle du personnel pour discuter des objectifs et des
                            performances du mois précédent.</p>
                    </div>

                    <div class="event-participants mt-3">
                        <h5>Participants</h5>
                        <div class="participant-list" id="viewEventParticipants">
                            <div class="participant-item">
                                <div class="participant-avatar">
                                    <img src="../assets/img/avatars/employee.jpg" alt="Ahmed Karim">
                                </div>
                                <div class="participant-name">Ahmed Karim</div>
                            </div>
                            <div class="participant-item">
                                <div class="participant-avatar">
                                    <img src="../assets/img/avatars/employee2.jpg" alt="Fatma Ben Ali">
                                </div>
                                <div class="participant-name">Fatma Ben Ali</div>
                            </div>
                            <div class="participant-item">
                                <div class="participant-avatar">
                                    <img src="../assets/img/avatars/employee3.jpg" alt="Youssef Miled">
                                </div>
                                <div class="participant-name">Youssef Miled</div>
                            </div>
                            <div class="participant-item">
                                <div class="participant-avatar">
                                    <img src="../assets/img/avatars/employee5.jpg" alt="Mehdi Selmi">
                                </div>
                                <div class="participant-name">Mehdi Selmi</div>
                            </div>
                        </div>
                    </div>

                    <div class="event-more-info mt-3">
                        <h5>Boutiques concernées</h5>
                        <p id="viewEventStores">Boutique Sud, Boutique Nord</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" data-action="close">Fermer</button>
                <button class="btn btn-danger" data-action="delete">Supprimer</button>
                <button class="btn btn-primary" data-action="edit">Modifier</button>
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>

    <!-- Scripts -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/calendar.js"></script>
    <script src="../assets/js/auth.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // View switcher functionality
            const viewButtons = document.querySelectorAll('.calendar-view-btn');
            const calendarViews = document.querySelectorAll('.calendar-view');

            viewButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Remove active class from all buttons
                    viewButtons.forEach(btn => btn.classList.remove('active'));

                    // Add active class to clicked button
                    this.classList.add('active');

                    // Get view type from data attribute
                    const viewType = this.getAttribute('data-view');

                    // Hide all views
                    calendarViews.forEach(view => view.style.display = 'none');

                    // Show selected view
                    document.querySelector(`.${viewType}-view`).style.display = 'block';
                });
            });

            // Navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const todayBtn = document.getElementById('todayBtn');

            // Current date for navigation
            let currentDate = new Date(2025, 4, 20); // May 20, 2025

            if (prevBtn) {
                prevBtn.addEventListener('click', function () {
                    // Handle previous month/week/day based on current view
                    const currentView = document.querySelector('.calendar-view-btn.active').getAttribute('data-view');

                    switch (currentView) {
                        case 'month':
                            currentDate.setMonth(currentDate.getMonth() - 1);
                            break;
                        case 'week':
                            currentDate.setDate(currentDate.getDate() - 7);
                            break;
                        case 'day':
                            currentDate.setDate(currentDate.getDate() - 1);
                            break;
                        case 'list':
                            currentDate.setMonth(currentDate.getMonth() - 1);
                            break;
                    }

                    updateCalendarTitle();
                    // In a real app, this would reload calendar data
                });
            }

            if (nextBtn) {
                nextBtn.addEventListener('click', function () {
                    // Handle next month/week/day based on current view
                    const currentView = document.querySelector('.calendar-view-btn.active').getAttribute('data-view');

                    switch (currentView) {
                        case 'month':
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            break;
                        case 'week':
                            currentDate.setDate(currentDate.getDate() + 7);
                            break;
                        case 'day':
                            currentDate.setDate(currentDate.getDate() + 1);
                            break;
                        case 'list':
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            break;
                    }

                    updateCalendarTitle();
                    // In a real app, this would reload calendar data
                });
            }

            if (todayBtn) {
                todayBtn.addEventListener('click', function () {
                    currentDate = new Date(2025, 4, 20); // Reset to May 20, 2025 (today in our demo)
                    updateCalendarTitle();
                    // In a real app, this would reload calendar data for today
                });
            }

            function updateCalendarTitle() {
                // Update calendar title based on current view and date
                const currentView = document.querySelector('.calendar-view-btn.active').getAttribute('data-view');
                const calendarTitle = document.querySelector('.calendar-title');

                const months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];
                const days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];

                switch (currentView) {
                    case 'month':
                        calendarTitle.textContent = `${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
                        break;
                    case 'week':
                        // Get the start of the week (Monday)
                        const weekStart = new Date(currentDate);
                        const day = currentDate.getDay();
                        const diff = currentDate.getDate() - day + (day === 0 ? -6 : 1); // Adjust for Sunday
                        weekStart.setDate(diff);

                        // Get the end of the week (Sunday)
                        const weekEnd = new Date(weekStart);
                        weekEnd.setDate(weekStart.getDate() + 6);

                        if (weekStart.getMonth() === weekEnd.getMonth()) {
                            calendarTitle.textContent = `${weekStart.getDate()} - ${weekEnd.getDate()} ${months[weekStart.getMonth()]} ${weekStart.getFullYear()}`;
                        } else {
                            calendarTitle.textContent = `${weekStart.getDate()} ${months[weekStart.getMonth()]} - ${weekEnd.getDate()} ${months[weekEnd.getMonth()]} ${weekStart.getFullYear()}`;
                        }
                        break;
                    case 'day':
                        calendarTitle.textContent = `${days[currentDate.getDay()]}, ${currentDate.getDate()} ${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
                        // Also update day view header
                        const dayHeader = document.querySelector('.day-header h3');
                        if (dayHeader) {
                            dayHeader.textContent = `${days[currentDate.getDay()]}, ${currentDate.getDate()} ${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
                        }
                        break;
                    case 'list':
                        calendarTitle.textContent = `Liste: ${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
                        break;
                }
            }

            // Event listeners for calendar events
            const calendarEvents = document.querySelectorAll('.calendar-event');
            calendarEvents.forEach(event => {
                event.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const eventId = this.getAttribute('data-id');
                    openEventDetails(eventId);
                });
            });

            // List view events
            const listItems = document.querySelectorAll('.list-item');
            listItems.forEach(item => {
                item.addEventListener('click', function () {
                    const eventId = this.getAttribute('data-id');
                    openEventDetails(eventId);
                });
            });

            // Function to open event details modal
            function openEventDetails(eventId) {
                // In a real app, this would fetch event details from API
                // For demo, we'll use hardcoded data
                const eventData = {
                    'event-1': {
                        title: 'Réunion du personnel',
                        type: 'meeting',
                        date: '15/05/2025',
                        time: '14:00 - 16:00',
                        location: 'Salle de conférence',
                        description: 'Réunion mensuelle du personnel pour discuter des objectifs et des performances du mois précédent.',
                        participants: ['Ahmed Karim', 'Fatma Ben Ali', 'Youssef Miled', 'Mehdi Selmi'],
                        stores: 'Boutique Sud, Boutique Nord'
                    },
                    'event-2': {
                        title: 'Inventaire mensuel',
                        type: 'task',
                        date: '25/05/2025',
                        time: 'Toute la journée',
                        location: 'Toutes les boutiques',
                        description: 'Inventaire mensuel obligatoire dans toutes les boutiques.',
                        participants: ['Tous les employés'],
                        stores: 'Toutes les boutiques'
                    },
                    'event-3': {
                        title: 'Formation Shopify',
                        type: 'training',
                        date: '20/05/2025',
                        time: '10:15 - 11:45',
                        location: 'Salle de formation',
                        description: 'Formation sur les nouvelles fonctionnalités de la plateforme Shopify.',
                        participants: ['Ahmed Karim', 'Sarah Trabelsi', 'Youssef Miled'],
                        stores: 'Siège social'
                    },
                    'event-4': {
                        title: 'Jour férié',
                        type: 'holiday',
                        date: '01/05/2025',
                        time: 'Toute la journée',
                        location: '-',
                        description: 'Jour férié national.',
                        participants: ['Tous les employés'],
                        stores: 'Toutes les boutiques'
                    },
                    'event-5': {
                        title: 'Évaluations trimestrielles',
                        type: 'task',
                        date: '10/05/2025 - 12/05/2025',
                        time: 'Toute la journée',
                        location: 'Toutes les boutiques',
                        description: 'Évaluations trimestrielles des employés.',
                        participants: ['Tous les responsables'],
                        stores: 'Toutes les boutiques'
                    },
                    'event-6': {
                        title: 'Entretien candidat',
                        type: 'training',
                        date: '18/05/2025',
                        time: '14:00 - 15:00',
                        location: 'Bureau des RH',
                        description: 'Entretien avec un candidat pour le poste de vendeur.',
                        participants: ['Ahmed Karim', 'Mehdi Selmi'],
                        stores: 'Boutique Sud'
                    }
                };

                // Get event data
                const event = eventData[eventId];
                if (!event) return;

                // Update modal content
                document.getElementById('viewEventName').textContent = event.title;
                document.getElementById('viewEventType').innerHTML = `<span class="event-type-indicator ${event.type}">${getTypeLabel(event.type)}</span>`;
                document.getElementById('viewEventDate').textContent = event.date;
                document.getElementById('viewEventTime').textContent = event.time;
                document.getElementById('viewEventLocation').textContent = event.location;
                document.getElementById('viewEventDescription').textContent = event.description;
                document.getElementById('viewEventStores').textContent = event.stores;

                // Show the modal
                document.getElementById('viewEventModal').classList.add('active');
            }

            function getTypeLabel(type) {
                switch (type) {
                    case 'meeting':
                        return 'Réunion';
                    case 'task':
                        return 'Tâche';
                    case 'holiday':
                        return 'Jour férié';
                    case 'training':
                        return 'Formation';
                    case 'leave':
                        return 'Congé';
                    default:
                        return 'Événement';
                }
            }

            // Close modals
            const modalCloseButtons = document.querySelectorAll('.modal-close, .modal-cancel');
            modalCloseButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Close any open modal
                    document.querySelectorAll('.modal-overlay').forEach(modal => {
                        modal.classList.remove('active');
                    });
                });
            });

            // Open event form modal
            const addEventBtn = document.getElementById('addEventBtn');
            if (addEventBtn) {
                addEventBtn.addEventListener('click', function () {
                    // Reset form
                    document.getElementById('eventForm').reset();
                    document.getElementById('eventModalTitle').textContent = 'Ajouter un événement';

                    // Set default date to today
                    const today = new Date(2025, 4, 20); // May 20, 2025
                    const formattedDate = today.toISOString().split('T')[0];
                    document.getElementById('eventStartDate').value = formattedDate;
                    document.getElementById('eventEndDate').value = formattedDate;

                    // Show modal
                    document.getElementById('eventModal').classList.add('active');
                });
            }

            // Handle All Day event toggle
            const allDayCheckbox = document.getElementById('eventAllDay');
            const timePickerContainer = document.getElementById('timePickerContainer');

            if (allDayCheckbox && timePickerContainer) {
                allDayCheckbox.addEventListener('change', function () {
                    if (this.checked) {
                        timePickerContainer.style.display = 'none';
                    } else {
                        timePickerContainer.style.display = 'flex';
                    }
                });
            }

            // Apply calendar settings
            const applySettingsBtn = document.getElementById('applySettingsBtn');
            if (applySettingsBtn) {
                applySettingsBtn.addEventListener('click', function () {
                    // In a real app, this would apply the settings to the calendar
                    // For demo, we'll just show a notification

                    showNotification('Paramètres appliqués', 'Les paramètres d\'affichage ont été mis à jour.');
                });
            }

            // Edit event button in view modal
            const editEventBtn = document.querySelector('[data-action="edit"]');
            if (editEventBtn) {
                editEventBtn.addEventListener('click', function () {
                    // Close view modal
                    document.getElementById('viewEventModal').classList.remove('active');

                    // In a real app, this would pre-fill the form with event data
                    // For demo, just open the edit modal
                    document.getElementById('eventModalTitle').textContent = 'Modifier l\'événement';
                    document.getElementById('eventModal').classList.add('active');
                });
            }

            // Delete event button in view modal
            const deleteEventBtn = document.querySelector('[data-action="delete"]');
            if (deleteEventBtn) {
                deleteEventBtn.addEventListener('click', function () {
                    // In a real app, this would delete the event
                    // For demo, just close the modal and show a notification
                    document.getElementById('viewEventModal').classList.remove('active');
                    showNotification('Événement supprimé', 'L\'événement a été supprimé avec succès.');
                });
            }

            // Save event button in form modal
            const saveEventBtn = document.getElementById('saveEventBtn');
            if (saveEventBtn) {
                saveEventBtn.addEventListener('click', function () {
                    // In a real app, this would save the event data
                    // For demo, just close the modal and show a notification
                    document.getElementById('eventModal').classList.remove('active');
                    showNotification('Événement enregistré', 'L\'événement a été enregistré avec succès.');
                });
            }

            // Helper function to show notifications
            function showNotification(title, message) {
                // Create notification element
                const notificationEl = document.createElement('div');
                notificationEl.className = 'notification-toast';
                notificationEl.innerHTML = `
          <div class="notification-toast-header">
            <strong>${title}</strong>
            <button type="button" class="notification-close">&times;</button>
          </div>
          <div class="notification-toast-body">
            ${message}
          </div>
        `;

                // Append to body
                document.body.appendChild(notificationEl);

                // Show notification
                setTimeout(() => {
                    notificationEl.classList.add('show');
                }, 100);

                // Auto close after 5 seconds
                setTimeout(() => {
                    notificationEl.classList.remove('show');

                    // Remove from DOM after animation
                    setTimeout(() => {
                        notificationEl.remove();
                    }, 300);
                }, 5000);

                // Close button event
                const closeBtn = notificationEl.querySelector('.notification-close');
                if (closeBtn) {
                    closeBtn.addEventListener('click', function () {
                        notificationEl.classList.remove('show');

                        // Remove from DOM after animation
                        setTimeout(() => {
                            notificationEl.remove();
                        }, 300);
                    });
                }
            }
        });
    </script>
</body>

</html>