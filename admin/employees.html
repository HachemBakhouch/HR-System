<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Employés | Mazzaro Milano RH</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../assets/img/favicon.ico" type="image/x-icon">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/components.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/img/logo.png" alt="Mazzaro Milano" class="sidebar-logo">
                <button class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <ul class="sidebar-menu">
                <li class="sidebar-item">
                    <a href="index.html" class="sidebar-link">
                        <i class="fas fa-tachometer-alt sidebar-icon"></i>
                        <span class="sidebar-text">Tableau de bord</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="employees.html" class="sidebar-link active">
                        <i class="fas fa-users sidebar-icon"></i>
                        <span class="sidebar-text">Employés</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="tickets.html" class="sidebar-link">
                        <i class="fas fa-tasks sidebar-icon"></i>
                        <span class="sidebar-text">Tickets & Tâches</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="attendance.html" class="sidebar-link">
                        <i class="fas fa-clock sidebar-icon"></i>
                        <span class="sidebar-text">Pointage & Présence</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="leave.html" class="sidebar-link">
                        <i class="fas fa-calendar-alt sidebar-icon"></i>
                        <span class="sidebar-text">Congés</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="calendar.html" class="sidebar-link">
                        <i class="fas fa-calendar-day sidebar-icon"></i>
                        <span class="sidebar-text">Calendrier</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="statistics.html" class="sidebar-link">
                        <i class="fas fa-chart-bar sidebar-icon"></i>
                        <span class="sidebar-text">Statistiques</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="evaluations.html" class="sidebar-link">
                        <i class="fas fa-star sidebar-icon"></i>
                        <span class="sidebar-text">Évaluations</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="settings.html" class="sidebar-link">
                        <i class="fas fa-cog sidebar-icon"></i>
                        <span class="sidebar-text">Paramètres</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <span>Mazzaro Milano RH v1.0</span>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="header">
                <h1 class="page-title">Gestion des Employés</h1>

                <div class="header-actions">
                    <button class="header-action notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>

                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="../assets/img/avatars/admin.jpg" alt="Admin Profile">
                        </div>
                        <div class="user-info">
                            <span class="user-name">Admin Mazzaro</span>
                            <span class="user-role">Super Administrateur</span>
                        </div>
                        <i class="fas fa-chevron-down dropdown-toggle"></i>

                        <!-- User Dropdown Menu -->
                        <div class="dropdown-menu user-dropdown-menu">
                            <a href="profile.html" class="dropdown-item">
                                <i class="fas fa-user"></i> Mon profil
                            </a>
                            <a href="settings.html" class="dropdown-item">
                                <i class="fas fa-cog"></i> Paramètres
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" onclick="auth.logout()">
                                <i class="fas fa-sign-out-alt"></i> Se déconnecter
                            </a>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Notification Panel -->
            <div class="notification-panel">
                <div class="notification-header">
                    <h3 class="notification-title">Notifications</h3>
                    <span class="notification-count">5</span>
                </div>
                <div class="notification-body">
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Nouvel employé ajouté: <strong>Sarah Trabelsi</strong></p>
                            <span class="notification-time">Il y a 10 minutes</span>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Retard de <strong>Ahmed Karim</strong> - Boutique Sud</p>
                            <span class="notification-time">Il y a 1 heure</span>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="notification-content">
                            <p class="notification-message">Nouvelle demande de congé de <strong>Fatma Ben Ali</strong>
                            </p>
                            <span class="notification-time">Il y a 3 heures</span>
                        </div>
                    </div>
                </div>
                <div class="notification-footer">
                    <a href="notifications.html" class="view-all">Voir toutes les notifications</a>
                </div>
            </div>

            <!-- Employees Content -->
            <div class="employees-content">
                <!-- Action Bar -->
                <div class="action-bar mb-4">
                    <div class="row align-items-center">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <div class="search-box">
                                <i class="fas fa-search search-icon"></i>
                                <input type="search" class="form-control" placeholder="Rechercher un employé...">
                            </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                            <button class="btn btn-primary" id="addEmployeeBtn">
                                <i class="fas fa-plus"></i> Ajouter un employé
                            </button>
                            <button class="btn btn-light">
                                <i class="fas fa-filter"></i> Filtres
                            </button>
                            <button class="btn btn-light">
                                <i class="fas fa-download"></i> Exporter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Summary Stats -->
                <div class="row mb-4">
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card">
                            <div class="stat-icon primary">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value">72</h3>
                                <p class="stat-label">Total Employés</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card">
                            <div class="stat-icon success">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value">65</h3>
                                <p class="stat-label">Actifs</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card">
                            <div class="stat-icon warning">
                                <i class="fas fa-user-clock"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value">5</h3>
                                <p class="stat-label">En congé</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card">
                            <div class="stat-icon danger">
                                <i class="fas fa-user-slash"></i>
                            </div>
                            <div class="stat-info">
                                <h3 class="stat-value">2</h3>
                                <p class="stat-label">Inactifs</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Employee Table -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Liste des employés</h3>
                        <div class="card-actions">
                            <select class="form-control" id="viewSelect">
                                <option value="table">Vue Tableau</option>
                                <option value="grid">Vue Grille</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-view">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Nom & Prénom</th>
                                            <th>Poste</th>
                                            <th>Boutique</th>
                                            <th>Email</th>
                                            <th>Téléphone</th>
                                            <th>Statut</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>EMP001</td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="employee-avatar me-2">
                                                        <img src="../assets/img/avatars/employee.jpg" alt="Employee">
                                                    </div>
                                                    <span>Karim Ahmed</span>
                                                </div>
                                            </td>
                                            <td>Vendeur</td>
                                            <td>Boutique Sud</td>
                                            <td>karim.a@mazzaro.com</td>
                                            <td>+216 29 123 456</td>
                                            <td><span class="badge bg-success">Actif</span></td>
                                            <td>
                                                <div class="btn-group">
                                                    <button class="btn btn-sm btn-light" data-action="view"
                                                        data-id="EMP001">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="edit"
                                                        data-id="EMP001">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="delete"
                                                        data-id="EMP001">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>EMP002</td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="employee-avatar me-2">
                                                        <img src="../assets/img/avatars/employee2.jpg" alt="Employee">
                                                    </div>
                                                    <span>Ben Ali Fatma</span>
                                                </div>
                                            </td>
                                            <td>Vendeuse</td>
                                            <td>Boutique Nord</td>
                                            <td>fatma.b@mazzaro.com</td>
                                            <td>+216 29 987 654</td>
                                            <td><span class="badge bg-warning">En congé</span></td>
                                            <td>
                                                <div class="btn-group">
                                                    <button class="btn btn-sm btn-light" data-action="view"
                                                        data-id="EMP002">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="edit"
                                                        data-id="EMP002">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="delete"
                                                        data-id="EMP002">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>EMP003</td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="employee-avatar me-2">
                                                        <img src="../assets/img/avatars/employee3.jpg" alt="Employee">
                                                    </div>
                                                    <span>Miled Youssef</span>
                                                </div>
                                            </td>
                                            <td>Vendeur</td>
                                            <td>Boutique Est</td>
                                            <td>youssef.m@mazzaro.com</td>
                                            <td>+216 29 456 789</td>
                                            <td><span class="badge bg-success">Actif</span></td>
                                            <td>
                                                <div class="btn-group">
                                                    <button class="btn btn-sm btn-light" data-action="view"
                                                        data-id="EMP003">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="edit"
                                                        data-id="EMP003">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="delete"
                                                        data-id="EMP003">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>EMP004</td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="employee-avatar me-2">
                                                        <img src="../assets/img/avatars/employee4.jpg" alt="Employee">
                                                    </div>
                                                    <span>Trabelsi Sarah</span>
                                                </div>
                                            </td>
                                            <td>Vendeuse</td>
                                            <td>Boutique Nord</td>
                                            <td>sarah.t@mazzaro.com</td>
                                            <td>+216 29 789 123</td>
                                            <td><span class="badge bg-success">Actif</span></td>
                                            <td>
                                                <div class="btn-group">
                                                    <button class="btn btn-sm btn-light" data-action="view"
                                                        data-id="EMP004">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="edit"
                                                        data-id="EMP004">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="delete"
                                                        data-id="EMP004">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>EMP005</td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="employee-avatar me-2">
                                                        <img src="../assets/img/avatars/employee5.jpg" alt="Employee">
                                                    </div>
                                                    <span>Selmi Mehdi</span>
                                                </div>
                                            </td>
                                            <td>Responsable Boutique</td>
                                            <td>Boutique Nord</td>
                                            <td>mehdi.s@mazzaro.com</td>
                                            <td>+216 29 345 678</td>
                                            <td><span class="badge bg-success">Actif</span></td>
                                            <td>
                                                <div class="btn-group">
                                                    <button class="btn btn-sm btn-light" data-action="view"
                                                        data-id="EMP005">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="edit"
                                                        data-id="EMP005">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-light" data-action="delete"
                                                        data-id="EMP005">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <nav aria-label="Page navigation">
                            <ul class="pagination justify-content-center mb-0">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Précédent</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Suivant</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>

    <!-- Add/Edit Employee Modal -->
    <div class="modal-overlay" id="employeeModal">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <h3 class="modal-title">Ajouter un employé</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="employeeForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="employeeId" class="form-label">ID Employé</label>
                                <input type="text" id="employeeId" class="form-control"
                                    placeholder="Généré automatiquement" disabled>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="status" class="form-label">Statut</label>
                                <select id="status" class="form-control">
                                    <option value="active">Actif</option>
                                    <option value="leave">En congé</option>
                                    <option value="inactive">Inactif</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="firstName" class="form-label">Prénom</label>
                                <input type="text" id="firstName" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="lastName" class="form-label">Nom</label>
                                <input type="text" id="lastName" class="form-control" required>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" id="email" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="phone" class="form-label">Téléphone</label>
                                <input type="tel" id="phone" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="position" class="form-label">Poste</label>
                                <select id="position" class="form-control" required>
                                    <option value="">Sélectionner un poste</option>
                                    <option value="vendeur">Vendeur</option>
                                    <option value="resp_boutique">Responsable Boutique</option>
                                    <option value="resp_secteur">Responsable Secteur</option>
                                    <option value="admin">Administrateur</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="store" class="form-label">Boutique</label>
                                <select id="store" class="form-control" required>
                                    <option value="">Sélectionner une boutique</option>
                                    <option value="sud">Boutique Sud</option>
                                    <option value="nord">Boutique Nord</option>
                                    <option value="est">Boutique Est</option>
                                    <option value="ouest">Boutique Ouest</option>
                                    <option value="centre">Boutique Centre</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="hireDate" class="form-label">Date d'embauche</label>
                                <input type="date" id="hireDate" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="birthDate" class="form-label">Date de naissance</label>
                                <input type="date" id="birthDate" class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-12">
                            <div class="form-group">
                                <label for="address" class="form-label">Adresse</label>
                                <textarea id="address" class="form-control" rows="2"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="username" class="form-label">Nom d'utilisateur</label>
                                <input type="text" id="username" class="form-control" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="password" class="form-label">Mot de passe</label>
                                <div class="password-field">
                                    <input type="password" id="password" class="form-control" required>
                                    <button type="button" class="password-toggle">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3">
                        <div class="form-check">
                            <input type="checkbox" id="sendCredentials" class="form-check-input">
                            <label for="sendCredentials" class="form-check-label">Envoyer les identifiants par
                                email</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light modal-cancel">Annuler</button>
                <button class="btn btn-primary" id="saveEmployeeBtn">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- View Employee Modal -->
    <div class="modal-overlay" id="viewEmployeeModal">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <h3 class="modal-title">Détails de l'employé</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="employee-details">
                    <div class="employee-header">
                        <div class="employee-avatar">
                            <img src="../assets/img/avatars/employee.jpg" alt="Employee" id="viewEmployeeAvatar">
                        </div>
                        <div class="employee-info">
                            <h4 id="viewEmployeeName">Karim Ahmed</h4>
                            <p id="viewEmployeePosition">Vendeur - Boutique Sud</p>
                            <div class="employee-id">ID: <span id="viewEmployeeId">EMP001</span>
                            </div>
                            <div class="employee-status">
                                <span class="badge bg-success" id="viewEmployeeStatus">Actif</span>
                            </div>
                        </div>
                    </div>

                    <div class="employee-tabs mt-4">
                        <div class="nav-tabs">
                            <div class="nav-tab active" data-tab="info">Informations</div>
                            <div class="nav-tab" data-tab="attendance">Présence</div>
                            <div class="nav-tab" data-tab="leave">Congés</div>
                            <div class="nav-tab" data-tab="eval">Évaluations</div>
                        </div>

                        <div class="tab-content mt-3">
                            <!-- Personal Information Tab -->
                            <div class="tab-pane active" id="info">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Prénom</div>
                                            <div class="detail-value" id="viewFirstName">Karim</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Nom</div>
                                            <div class="detail-value" id="viewLastName">Ahmed</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Email</div>
                                            <div class="detail-value" id="viewEmail">karim.a@mazzaro.com</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Téléphone</div>
                                            <div class="detail-value" id="viewPhone">+216 29 123 456</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Date de naissance</div>
                                            <div class="detail-value" id="viewBirthDate">12/05/1995</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Date d'embauche</div>
                                            <div class="detail-value" id="viewHireDate">20/03/2023</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-12">
                                        <div class="detail-group">
                                            <div class="detail-label">Adresse</div>
                                            <div class="detail-value" id="viewAddress">Rue Habib Bourguiba, Tunis</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="detail-group">
                                            <div class="detail-label">Nom d'utilisateur</div>
                                            <div class="detail-value" id="viewUsername">karim.a</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Attendance Tab -->
                            <div class="tab-pane" id="attendance">
                                <div class="attendance-summary">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">98%</h3>
                                                    <p class="stat-label">Taux de présence</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">2</h3>
                                                    <p class="stat-label">Retards ce mois</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">1</h3>
                                                    <p class="stat-label">Absences ce mois</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="attendance-chart mt-3">
                                    <canvas id="employeeAttendanceChart" height="200"></canvas>
                                </div>

                                <div class="attendance-history mt-3">
                                    <h5>Historique récent</h5>
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Arrivée</th>
                                                    <th>Départ</th>
                                                    <th>Statut</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>20/05/2025</td>
                                                    <td>08:30</td>
                                                    <td>--:--</td>
                                                    <td><span class="badge bg-primary">En service</span></td>
                                                </tr>
                                                <tr>
                                                    <td>19/05/2025</td>
                                                    <td>08:28</td>
                                                    <td>16:30</td>
                                                    <td><span class="badge bg-success">Présent</span></td>
                                                </tr>
                                                <tr>
                                                    <td>18/05/2025</td>
                                                    <td>08:29</td>
                                                    <td>16:35</td>
                                                    <td><span class="badge bg-success">Présent</span></td>
                                                </tr>
                                                <tr>
                                                    <td>17/05/2025</td>
                                                    <td>08:40</td>
                                                    <td>16:30</td>
                                                    <td><span class="badge bg-warning">Retard</span></td>
                                                </tr>
                                                <tr>
                                                    <td>16/05/2025</td>
                                                    <td>--:--</td>
                                                    <td>--:--</td>
                                                    <td><span class="badge bg-danger">Absent</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!-- Leave Tab -->
                            <div class="tab-pane" id="leave">
                                <div class="leave-balance">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">8 / 15</h3>
                                                    <p class="stat-label">Congés annuels</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">10 / 10</h3>
                                                    <p class="stat-label">Congés maladie</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">5 / 5</h3>
                                                    <p class="stat-label">Congés personnels</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="leave-history mt-3">
                                    <h5>Historique des congés</h5>
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Du</th>
                                                    <th>Au</th>
                                                    <th>Jours</th>
                                                    <th>Statut</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Congé annuel</td>
                                                    <td>10/06/2025</td>
                                                    <td>12/06/2025</td>
                                                    <td>3</td>
                                                    <td><span class="badge bg-warning">En attente</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Congé maladie</td>
                                                    <td>16/05/2025</td>
                                                    <td>16/05/2025</td>
                                                    <td>1</td>
                                                    <td><span class="badge bg-success">Approuvé</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Congé annuel</td>
                                                    <td>15/04/2025</td>
                                                    <td>16/04/2025</td>
                                                    <td>2</td>
                                                    <td><span class="badge bg-danger">Refusé</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Congé personnel</td>
                                                    <td>02/03/2025</td>
                                                    <td>02/03/2025</td>
                                                    <td>1</td>
                                                    <td><span class="badge bg-success">Approuvé</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!-- Evaluations Tab -->
                            <div class="tab-pane" id="eval">
                                <div class="evaluation-summary">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="stat-card mini">
                                                <div class="stat-info">
                                                    <h3 class="stat-value">3.7/5</h3>
                                                    <p class="stat-label">Note moyenne</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="overall-rating">
                                                <div class="rating-chart">
                                                    <canvas id="ratingChart" height="150"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="evaluations-list mt-3">
                                    <h5>Évaluations récentes</h5>

                                    <div class="evaluation-item">
                                        <div class="evaluation-header">
                                            <div class="evaluation-period">Q1 2025 (Jan-Mar)</div>
                                            <div class="evaluation-rating">
                                                <div class="rating-stars">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star-half-alt"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span>3.5/5</span>
                                            </div>
                                        </div>
                                        <div class="evaluation-criteria">
                                            <div class="criteria-item">
                                                <div class="criteria-header">
                                                    <div class="criteria-name">Service client</div>
                                                    <div class="criteria-score">4.0/5</div>
                                                </div>
                                                <div class="criteria-bar">
                                                    <div class="criteria-progress" style="width: 80%"></div>
                                                </div>
                                            </div>
                                            <div class="criteria-item">
                                                <div class="criteria-header">
                                                    <div class="criteria-name">Connaissances produits</div>
                                                    <div class="criteria-score">3.5/5</div>
                                                </div>
                                                <div class="criteria-bar">
                                                    <div class="criteria-progress" style="width: 70%"></div>
                                                </div>
                                            </div>
                                            <div class="criteria-item">
                                                <div class="criteria-header">
                                                    <div class="criteria-name">Objectifs de vente</div>
                                                    <div class="criteria-score">3.0/5</div>
                                                </div>
                                                <div class="criteria-bar">
                                                    <div class="criteria-progress" style="width: 60%"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="evaluation-footer">
                                            <button class="btn btn-sm btn-light" data-action="view-eval"
                                                data-id="EVAL001">
                                                Voir détails
                                            </button>
                                        </div>
                                    </div>

                                    <div class="evaluation-item">
                                        <div class="evaluation-header">
                                            <div class="evaluation-period">Q4 2024 (Oct-Déc)</div>
                                            <div class="evaluation-rating">
                                                <div class="rating-stars">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span>4.0/5</span>
                                            </div>
                                        </div>
                                        <div class="evaluation-footer">
                                            <button class="btn btn-sm btn-light" data-action="view-eval"
                                                data-id="EVAL002">
                                                Voir détails
                                            </button>
                                        </div>
                                    </div>

                                    <div class="evaluation-item">
                                        <div class="evaluation-header">
                                            <div class="evaluation-period">Q3 2024 (Jul-Sep)</div>
                                            <div class="evaluation-rating">
                                                <div class="rating-stars">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                    <i class="far fa-star"></i>
                                                </div>
                                                <span>3.0/5</span>
                                            </div>
                                        </div>
                                        <div class="evaluation-footer">
                                            <button class="btn btn-sm btn-light" data-action="view-eval"
                                                data-id="EVAL003">
                                                Voir détails
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" data-action="close">Fermer</button>
                <button class="btn btn-primary" data-action="edit" data-id="">Modifier</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteConfirmModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Confirmation de suppression</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-4">
                    <i class="fas fa-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
                </div>
                <p class="confirmation-message">Êtes-vous sûr de vouloir supprimer cet employé ? Cette action est
                    irréversible.</p>
                <p class="employee-to-delete">Employé: <strong id="deleteEmployeeName">Karim Ahmed</strong></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light modal-cancel">Annuler</button>
                <button class="btn btn-danger" id="confirmDeleteBtn">Supprimer</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/employees.js"></script>
    <script src="../assets/js/auth.js"></script>

    <!-- Employee Management Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Add Employee Button
            const addEmployeeBtn = document.getElementById('addEmployeeBtn');
            if (addEmployeeBtn) {
                addEmployeeBtn.addEventListener('click', function () {
                    // Clear form
                    document.getElementById('employeeForm').reset();

                    // Set today's date as default hire date
                    const today = new Date().toISOString().split('T')[0];
                    document.getElementById('hireDate').value = today;

                    // Update modal title
                    document.querySelector('#employeeModal .modal-title').textContent = 'Ajouter un employé';

                    // Show modal
                    showModal('employeeModal');
                });
            }

            // Save Employee Button
            const saveEmployeeBtn = document.getElementById('saveEmployeeBtn');
            if (saveEmployeeBtn) {
                saveEmployeeBtn.addEventListener('click', function () {
                    // Basic validation
                    const form = document.getElementById('employeeForm');
                    if (!form.checkValidity()) {
                        form.reportValidity();
                        return;
                    }

                    // In a real app, this would save the employee data to the server
                    // For this prototype, we'll just show a success message

                    hideModal('employeeModal');

                    // Show success notification
                    showNotification('Employé enregistré', 'L\'employé a été enregistré avec succès.');
                });
            }

            // Edit Employee Action
            const editButtons = document.querySelectorAll('[data-action="edit"]');
            editButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const employeeId = this.getAttribute('data-id');

                    // In a real app, this would fetch employee data from the server
                    // For this prototype, we'll just show the modal with some sample data

                    // Update modal title
                    document.querySelector('#employeeModal .modal-title').textContent = 'Modifier un employé';

                    // Fill the form with sample data
                    document.getElementById('employeeId').value = employeeId;
                    document.getElementById('firstName').value = 'Karim';
                    document.getElementById('lastName').value = 'Ahmed';
                    document.getElementById('email').value = 'karim.a@mazzaro.com';
                    document.getElementById('phone').value = '+216 29 123 456';
                    document.getElementById('position').value = 'vendeur';
                    document.getElementById('store').value = 'sud';
                    document.getElementById('hireDate').value = '2023-03-20';
                    document.getElementById('birthDate').value = '1995-05-12';
                    document.getElementById('address').value = 'Rue Habib Bourguiba, Tunis';
                    document.getElementById('username').value = 'karim.a';
                    document.getElementById('password').value = '';

                    // Show modal
                    showModal('employeeModal');

                    // Close view modal if open
                    hideModal('viewEmployeeModal');
                });
            });

            // View Employee Action
            const viewButtons = document.querySelectorAll('[data-action="view"]');
            viewButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const employeeId = this.getAttribute('data-id');

                    // In a real app, this would fetch employee data from the server
                    // For this prototype, we'll just show the modal with some sample data

                    // Show modal
                    showModal('viewEmployeeModal');

                    // Initialize attendance chart
                    initEmployeeAttendanceChart();

                    // Initialize rating chart
                    initRatingChart();
                });
            });

            // Delete Employee Action
            const deleteButtons = document.querySelectorAll('[data-action="delete"]');
            deleteButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const employeeId = this.getAttribute('data-id');
                    const employeeName = this.closest('tr').querySelector('td:nth-child(2) span').textContent;

                    // Set employee name in confirmation modal
                    document.getElementById('deleteEmployeeName').textContent = employeeName;

                    // Store employee ID for delete action
                    document.getElementById('confirmDeleteBtn').setAttribute('data-id', employeeId);

                    // Show confirmation modal
                    showModal('deleteConfirmModal');
                });
            });

            // Confirm Delete Button
            const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
            if (confirmDeleteBtn) {
                confirmDeleteBtn.addEventListener('click', function () {
                    const employeeId = this.getAttribute('data-id');

                    // In a real app, this would delete the employee from the server
                    // For this prototype, we'll just show a success message

                    hideModal('deleteConfirmModal');

                    // Show success notification
                    showNotification('Employé supprimé', 'L\'employé a été supprimé avec succès.');
                });
            }

            // Tab Navigation
            const tabButtons = document.querySelectorAll('.nav-tab');
            tabButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const tabId = this.getAttribute('data-tab');

                    // Remove active class from all tabs
                    document.querySelectorAll('.nav-tab').forEach(tab => {
                        tab.classList.remove('active');
                    });

                    // Add active class to clicked tab
                    this.classList.add('active');

                    // Hide all tab panes
                    document.querySelectorAll('.tab-pane').forEach(pane => {
                        pane.classList.remove('active');
                    });

                    // Show selected tab pane
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // View/Grid Toggle
            const viewSelect = document.getElementById('viewSelect');
            if (viewSelect) {
                viewSelect.addEventListener('change', function () {
                    const view = this.value;

                    if (view === 'grid') {
                        // In a real app, this would toggle the view
                        showNotification('Changement de vue', 'Fonctionnalité à implémenter: Vue Grille');
                    }
                });
            }

            // Password Toggle
            const passwordToggles = document.querySelectorAll('.password-toggle');
            passwordToggles.forEach(toggle => {
                toggle.addEventListener('click', function () {
                    const passwordField = this.parentNode.querySelector('input');
                    const icon = this.querySelector('i');

                    if (passwordField.type === 'password') {
                        passwordField.type = 'text';
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    } else {
                        passwordField.type = 'password';
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                });
            });

            // Modal Functions
            function showModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.add('active');
                }
            }

            function hideModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('active');
                }
            }

            // Close modals when clicking outside or on close button
            const modalOverlays = document.querySelectorAll('.modal-overlay');
            modalOverlays.forEach(overlay => {
                overlay.addEventListener('click', function (e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });

                const closeBtn = overlay.querySelector('.modal-close');
                if (closeBtn) {
                    closeBtn.addEventListener('click', function () {
                        overlay.classList.remove('active');
                    });
                }

                const cancelBtn = overlay.querySelector('.modal-cancel');
                if (cancelBtn) {
                    cancelBtn.addEventListener('click', function () {
                        overlay.classList.remove('active');
                    });
                }
            });

            // Employee Attendance Chart
            function initEmployeeAttendanceChart() {
                const attendanceChart = document.getElementById('employeeAttendanceChart');
                if (attendanceChart) {
                    const ctx = attendanceChart.getContext('2d');

                    // Sample attendance data for last 30 days
                    const days = Array.from({ length: 30 }, (_, i) => i + 1);
                    const statuses = [
                        'present', 'present', 'present', 'present', 'present',
                        'weekend', 'weekend',
                        'present', 'present', 'present', 'present', 'late',
                        'weekend', 'weekend',
                        'present', 'present', 'present', 'absent', 'present',
                        'weekend', 'weekend',
                        'present', 'present', 'present', 'late', 'present',
                        'weekend', 'weekend',
                        'present', 'present'
                    ];

                    // Convert statuses to colors
                    const colors = statuses.map(status => {
                        switch (status) {
                            case 'present': return 'rgba(40, 167, 69, 0.7)';
                            case 'late': return 'rgba(255, 193, 7, 0.7)';
                            case 'absent': return 'rgba(220, 53, 69, 0.7)';
                            case 'weekend': return 'rgba(200, 200, 200, 0.5)';
                            default: return 'rgba(200, 200, 200, 0.5)';
                        }
                    });

                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: days,
                            datasets: [
                                {
                                    label: 'Présence',
                                    data: statuses.map(status => status === 'weekend' ? 0 : 1),
                                    backgroundColor: colors,
                                    borderColor: colors.map(color => color.replace('0.7', '1')),
                                    borderWidth: 1,
                                    borderRadius: 4
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                },
                                tooltip: {
                                    callbacks: {
                                        title: function (tooltipItems) {
                                            return 'Jour ' + tooltipItems[0].label;
                                        },
                                        label: function (context) {
                                            return statuses[context.dataIndex].charAt(0).toUpperCase() + statuses[context.dataIndex].slice(1);
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    grid: {
                                        display: false
                                    },
                                    ticks: {
                                        maxRotation: 0,
                                        autoSkip: true,
                                        maxTicksLimit: 10
                                    }
                                },
                                y: {
                                    beginAtZero: true,
                                    max: 1,
                                    ticks: {
                                        display: false
                                    },
                                    grid: {
                                        display: false
                                    }
                                }
                            }
                        }
                    });
                }
            }

            // Rating Chart
            function initRatingChart() {
                const ratingChart = document.getElementById('ratingChart');
                if (ratingChart) {
                    const ctx = ratingChart.getContext('2d');

                    new Chart(ctx, {
                        type: 'radar',
                        data: {
                            labels: [
                                'Service client',
                                'Connaissances produits',
                                'Objectifs de vente',
                                'Travail d\'équipe',
                                'Ponctualité'
                            ],
                            datasets: [
                                {
                                    label: 'Évaluation',
                                    data: [4.0, 3.5, 3.0, 3.8, 4.5],
                                    backgroundColor: 'rgba(59, 89, 152, 0.2)',
                                    borderColor: 'rgba(59, 89, 152, 1)',
                                    pointBackgroundColor: 'rgba(59, 89, 152, 1)',
                                    pointBorderColor: '#fff',
                                    pointHoverBackgroundColor: '#fff',
                                    pointHoverBorderColor: 'rgba(59, 89, 152, 1)'
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                r: {
                                    angleLines: {
                                        display: true
                                    },
                                    suggestedMin: 0,
                                    suggestedMax: 5
                                }
                            }
                        }
                    });
                }
            }

            // Notification function
            function showNotification(title, message) {
                // Create notification container if it doesn't exist
                let notifContainer = document.querySelector('.notification-container');
                if (!notifContainer) {
                    notifContainer = document.createElement('div');
                    notifContainer.className = 'notification-container';
                    document.body.appendChild(notifContainer);
                }

                // Create notification
                const notification = document.createElement('div');
                notification.className = 'notification';

                // Add notification content
                notification.innerHTML = `
          <div class="notification-header">
            <h4>${title}</h4>
            <button class="notification-close">&times;</button>
          </div>
          <div class="notification-body">
            ${message}
          </div>
        `;

                // Add notification to container
                notifContainer.appendChild(notification);

                // Show notification
                setTimeout(() => {
                    notification.classList.add('show');
                }, 10);

                // Close button
                const closeBtn = notification.querySelector('.notification-close');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => {
                        notification.classList.remove('show');
                        setTimeout(() => {
                            notification.remove();
                        }, 300);
                    });
                }

                // Auto close after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, 5000);
            }
        });
    </script>
</body>

</html>